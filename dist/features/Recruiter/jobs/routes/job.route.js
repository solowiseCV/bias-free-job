"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const jobController_1 = require("../controllers/jobController");
const authMiddleware_1 = require("../../../../middlewares/authMiddleware");
const multer_1 = require("../../../../middlewares/multer");
const fetchJobs_1 = require("../controllers/fetchJobs");
const jobsRoutes = (0, express_1.Router)();
const controller = new jobController_1.JobPostingController();
const jobSeekerController = new fetchJobs_1.JobSeekerController();
jobsRoutes.post("/postJob", authMiddleware_1.authMiddleware, multer_1.singleupload, controller.createJobPosting);
jobsRoutes.post("/saveDraft", authMiddleware_1.authMiddleware, multer_1.singleupload, controller.saveJobPostingAsDraft);
jobsRoutes.get("/alljobs", authMiddleware_1.authMiddleware, controller.getJobPostings);
jobsRoutes.get("/drafts", authMiddleware_1.authMiddleware, controller.getDraftJobPostings);
jobsRoutes.get("/getalljobs", controller.getAllJobs);
jobsRoutes.get("/job/:id", authMiddleware_1.authMiddleware, controller.getJobPostingById);
jobsRoutes.get("/seekersjobs", jobSeekerController.getAllJobs);
jobsRoutes.patch("/update/:id", authMiddleware_1.authMiddleware, multer_1.singleupload, controller.updateJobPosting);
jobsRoutes.patch("/updateToDraft/:id", authMiddleware_1.authMiddleware, multer_1.singleupload, controller.updateJobPostingToDraft);
jobsRoutes.delete("/delete/:id", authMiddleware_1.authMiddleware, multer_1.singleupload, controller.deleteJobPosting);
jobsRoutes.get("/jobs", controller.getJobs);
exports.default = jobsRoutes;
